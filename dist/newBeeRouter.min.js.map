{"version":3,"file":"newBeeRouter.min.js","sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7b88958147322fdbf3f0","webpack:///./src/index.js","webpack:///./src/event.js","webpack:///./src/polyfill/array.js","webpack:///./src/polyfill/assign.js","webpack:///./src/polyfill/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NewBeeRouter\"] = factory();\n\telse\n\t\troot[\"NewBeeRouter\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b88958147322fdbf3f0","/**\n * Created by zhangyatao on 2017/3/9.\n */\nrequire('./polyfill');\nvar EventEmitter = require('./event').EventEmitter;\n\nfunction getType(type) {\n    return function (data) {\n        return Object.prototype.toString.call(data) === '[object ' + type + ']';\n    }\n}\n\nvar isObject = getType('Object');\nvar isArray = getType('Array');\nvar isString = getType('String');\nvar isFunction = getType('Function');\nvar emitter = new EventEmitter();\nvar queryReg = /#[^?]*\\?(.+)$/;\nvar pathReg = /#([^?]+)/;\n\nfunction normal(href, reg) {\n    var query = href.match(reg) || '';\n    if (query && query.length && query[1]) {\n        query = query[1] || '';\n    }\n    return query;\n}\n\nfunction hashChangePolyfill() {\n    var msie = document.documentMode;\n    var isSupport = (msie && msie >= 8) || window.HashChangeEvent != undefined;\n\n\n    function init() {\n        var hash = location.hash;\n        var url = location.href;\n        setInterval(function () {\n            if (hash != location.hash) {\n                var eventArgs = new HashChangeEvent(\"hashchange\");\n                eventArgs.oldURL = url;\n                eventArgs.newURL = location.href;\n                emitter.emit('hashchange', eventArgs);\n            }\n            hash = location.hash;\n            url = location.href;\n\n        }, 100);\n    }\n\n    if (!isSupport) {\n        window.HashChangeEvent = function (type) {\n            this.isTrusted = true;\n            this.oldURL = \"\";\n            this.newURL = \"\";\n            this.type = type;\n        };\n\n        init();\n    } else {\n        function hashChange(e) {\n            emitter.emit('hashchange', e);\n        }\n\n        if (window.addEventListener) {\n            window.addEventListener('hashchange', hashChange, false)\n        } else {\n            window.attachEvent('onhashchange', hashChange);\n        }\n    }\n}\n\nhashChangePolyfill();\n\nfunction Query() {\n\n    this.__keyList__ = {};\n    this._watch();\n}\n\nQuery.prototype.add = function (options) {\n    // {name:'',value:'',locked:true,watch:function(){}}\n    var _options = Object.assign({}, {\n        name: '',\n        value: '',\n        locked: false,\n        watch: function (to, from) {\n\n        }\n    }, options);\n    if (!_options.name || !_options.value || typeof _options.watch !== 'function') {\n        throw new Error('no name、value or watch function.');\n    }\n\n    this.__keyList__[_options.name] = _options;\n    this.set(_options.name, _options.value);\n};\nQuery.prototype.remove = function (key) {\n    this.set(key, null);\n};\nQuery.prototype.get = function (key) {\n    return this.set(key);\n};\nQuery.prototype.set = function (name, value) {\n    // key was exists or not\n    if (!isString(name) || name == \"\") {\n        return;\n    }\n\n    var hash = location.hash;\n    value = encodeURIComponent(value);\n    name = encodeURIComponent(name);\n\n    // 获取hash\n    if (value === 'undefined') {\n        var result = hash.match(new RegExp(\"&*\\\\b\" + name + \"=([^&]*)\", \"i\"));\n        if (result && result.length && result[1]) {\n            return result[1];\n        }\n        return null;\n    }\n\n    if (!new RegExp('[?&]' + name + '=[^?]+').test(hash)) {\n        return location.hash = hash + (/\\?/.test(hash) ? '&' : '?') + name + '=' + value;\n    }\n\n    // 删除或修改hash\n    location.hash = hash.replace(new RegExp('([?&])(' + name + '=)[^?&]+(&?)', 'g'), function (str, $1, $2, $3) {\n        // 删除\n        if (value === '' || value === 'null') {\n            if ($1 === '&')\n                return $3;\n            if ($3)\n                return $1;\n            return '';\n        } else {\n            return $1 + $2 + value;\n        }\n\n    });\n};\nQuery.prototype._watch = function () {\n\n\n    var that = this;\n    emitter.on('hashchange', function (e) {\n        if (!/#.*\\?/.test(e.newURL)) {\n            return;\n        }\n        var newQuery = normal(e.newURL, queryReg);\n        var oldQuery = normal(e.oldURL, queryReg);\n        if (oldQuery === newQuery) {\n            return\n        }\n        newQuery = newQuery.split('&').map(function (item) {\n            item = item.split('=');\n            return {name: item[0], value: item[1]};\n        });\n        oldQuery = oldQuery.split('&').map(function (item) {\n            item = item.split('=');\n            return {name: item[0], value: item[1]};\n        });\n        newQuery.forEach(function (_new) {\n            var _old = oldQuery.find(function (item) {\n                return item.name === _new.name;\n            });\n            if (_old && _new.value !== _old.value) {\n                var watchList = that.__keyList__[_new.name].watch;\n                if (isFunction(watchList)) {\n                    watchList.call(null, _new.value, _old.value);\n                } else {\n                    watchList.forEach(function (watchFn) {\n                        watchFn.call(null, _new.value, _old.value);\n                    });\n                }\n            }\n        });\n    });\n};\nQuery.prototype.watch = function (name, fn) {\n    if (name && isString(name) && isFunction(fn)) {\n        var queryInfo = this.__keyList__[name];\n        if (queryInfo) {\n            if (isArray(queryInfo.watch)) {\n                queryInfo.watch.push(fn);\n            } else {\n                queryInfo.watch = [queryInfo.watch, fn];\n            }\n        }\n    }\n};\n\n\nfunction NewBeeRouter(options) {\n    // {routes:[{...},{...}]}\n    // {routes:{...}}\n    var _options = {\n        routes: []\n    };\n\n    this._routes = [];\n    this.query = new Query();\n\n    options = Object.assign({}, _options, options);\n\n    var route = options.routes;\n    if (isArray(route) || isObject(route)) {\n        this.addRoute(route);\n    }\n\n    this._init();\n\n    NewBeeRouter.app = this;\n}\n\nNewBeeRouter.prototype._init = function () {\n    var that = this;\n    emitter.on('hashchange', function (e) {\n        var newPath = normal(e.newURL, pathReg);\n        var oldPath = normal(e.oldURL, pathReg);\n        if (newPath === oldPath) {\n            return;\n        }\n        var oldRouter = that._getCurrentRouter(oldPath)[0];\n        var newRouterInfo = that._getCurrentRouter(newPath);\n        var newRouter = newRouterInfo[0];\n        if (oldRouter) {\n            oldRouter.leave(newRouter && newRouter.path);\n            emitter.emit('eachLeave', newRouter && newRouter.path);\n        }\n        if (newRouter) {\n            newRouter.enter(oldRouter && oldRouter.path);\n            newRouter.render(newRouterInfo[1]);\n            emitter.emit('eachEnter', oldRouter && oldRouter.path);\n        }\n    });\n    if (location.hash) {\n        var currentRouterInfo = this._getCurrentRouter();\n        var currentRouter = currentRouterInfo[0];\n        if (currentRouter) {\n            currentRouter.enter();\n            emitter.emit('eachEnter');\n            currentRouter.render(currentRouterInfo[1]);\n            return;\n        }\n    }\n    var hasDefault = this._routes.find(function (item) {\n        return item.isDefault === true && !item._hasParams;\n    });\n\n    if (!hasDefault) {\n        return;\n    }\n    this.push(hasDefault.path);\n\n};\n\nNewBeeRouter.prototype._getCurrentRouter = function (path) {\n    if (path === '') {\n        return [null, {}];\n    }\n    if (path === undefined || path === null) {\n        var hash = location.hash || '#/';\n        path = hash.match(/#([^?]+)/);\n        if (path && path.length && path[1]) {\n            path = path[1];\n        } else {\n            console.warn('wrong path:', hash);\n            return [null, {}];\n        }\n    }\n\n    var params = {};\n    var route = this._routes.find(function (item) {\n        if (item._hasParams && new RegExp(item._paramPath).test(path)) {\n            path.replace(new RegExp(item._paramPath), function () {\n                var paramsList = [].slice.call(arguments, 1, item._params.length + 1);\n                item._params.forEach(function (param, index) {\n                    params[param] = paramsList[index]\n                });\n            });\n            return true;\n        } else {\n            return item.path === path;\n        }\n    });\n\n    return [route, params];\n};\nNewBeeRouter.prototype.getCurrentRouter = function () {\n    return this._getCurrentRouter();\n};\n\nNewBeeRouter.prototype.addRoute = function (route) {\n    // {...}\n    // [{...},{...}]\n    var that = this;\n    var _route = {\n        path: '',\n        name: '',\n        isDefault: false,\n        component: null,\n        enter: function () {\n        },\n        leave: function () {\n        },\n        render: function () {\n\n        }\n    };\n    if (isObject(route)) {\n        route = [Object.assign({}, _route, route)];\n    }\n    if (isArray(route)) {\n        route.forEach(function (item) {\n            if (!/^\\//.test(item.path)) {\n                item.path = '/' + item.path;\n            }\n            var isExists = that._routes.some(function (r) {\n                return item.path && r.path === item.path;\n            });\n            if (!isExists) {\n                if (/\\/:([^/])+/.test(item.path)) {\n                    item._hasParams = true;\n                    var arr = [];\n                    item._paramPath = item.path.replace(/:([^\\/]+)/g, function () {\n                        arr.push(arguments[1]);\n                        return '([^\\/]+)';\n                    });\n                    item._params = arr;\n                }\n                that._routes.push(Object.assign({}, _route, item));\n            }\n        });\n    }\n\n};\nNewBeeRouter.prototype.push = function (path) {\n    // 'name'\n    // {'path':'name'}\n    // {name:'',params:{'a':1,'b':2}}\n    // {name:'',query:{'a':1,'b':2}}\n    var info = {path: '', name: '', params: {}, query: {}};\n    if (isString(path)) {\n        info.path = path.replace(/^\\//, '');\n    }\n    if (isObject(path)) {\n        info = Object.assign({}, info, path);\n    }\n\n    if (!info.path && !info.name) {\n        return;\n    }\n\n    // create query\n    var query = [];\n\n    // add locked query\n    for (var key in this.query.__keyList__) {\n        if (!this.query.__keyList__.hasOwnProperty(key)) {\n            continue;\n        }\n        var item = this.query.__keyList__[key];\n        if (item.locked && !(key in info.query)) {\n            info.query[key] = this.query.get(key);\n        }\n    }\n\n    for (var n in info.query) {\n        if (!info.query.hasOwnProperty(n)) {\n            continue;\n        }\n        query.push(encodeURIComponent(n) + '=' + encodeURIComponent(info.query[n]));\n    }\n\n    query = query.join('&');\n\n    // create path\n    var terminalPath = '';\n    if (info.path) {\n        terminalPath = '#/' + info.path;\n    } else {\n        // find next router\n        var nextRoute = this._routes.find(function (item) {\n            return item.name === info.name;\n        });\n\n        if (!nextRoute) {\n            console.warn('no get route name : ', info.name);\n            return;\n        }\n\n        if (nextRoute._hasParams) {\n            var spreadPath = nextRoute._paramPath.split('/([^/]+)');\n\n            nextRoute._params.forEach(function (item) {\n                if (!(item in info.params)) {\n                    throw new Error('no params : ', item);\n                }\n                terminalPath += spreadPath.shift() + '/' + info.params[item];\n            });\n            terminalPath += spreadPath.join('');\n\n        } else {\n            terminalPath = nextRoute.path;\n        }\n    }\n\n\n    if (query) {\n        terminalPath += '?' + query;\n    }\n    location.hash = terminalPath;\n};\n\nNewBeeRouter.prototype.eachLeave = function (cb) {\n    emitter.on('eachLeave', cb)\n};\n\nNewBeeRouter.prototype.eachEnter = function (cb) {\n    emitter.on('eachEnter', cb)\n};\nmodule.exports = NewBeeRouter;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 0\n// module chunks = 0","/**\n * 模仿nodejs的事件处理机制\n * 用法见NodeJS中的events.EventEmitter的用法\n * @constructor\n * @author zhangyatao@baidu.com\n */\n\nfunction EventEmitter() {\n    this._events = this._events || {};\n    this._maxListeners = this._maxListeners || undefined;\n}\n\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n\nEventEmitter.defaultMaxListeners = 10;\n\n\nEventEmitter.prototype.setMaxListeners = function (n) {\n    if (!isNumber(n) || n < 0 || isNaN(n)) {\n        throw TypeError('n must be a positive number');\n    }\n    this._maxListeners = n;\n    return this;\n};\n\nEventEmitter.prototype.emit = function (type) {\n    var er;\n    var handler;\n    var len;\n    var args;\n    var i;\n    var listeners;\n\n    if (!this._events) {\n        this._events = {};\n    }\n\n    // If there is no 'error' event listener then throw.\n    if (type === 'error') {\n        if (!this._events.error || (isObject(this._events.error) && !this._events.error.length)) {\n            er = arguments[1];\n            if (er instanceof Error) {\n                throw er; // Unhandled 'error' event\n            } else {\n                // At least give some kind of context to the user\n                var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n                err.context = er;\n                throw err;\n            }\n        }\n    }\n\n    handler = this._events[type];\n\n    if (isUndefined(handler)) {\n        return false;\n    }\n\n\n    if (isFunction(handler)) {\n        switch (arguments.length) {\n            // fast cases\n            case 1:\n                handler.call(this);\n                break;\n            case 2:\n                handler.call(this, arguments[1]);\n                break;\n            case 3:\n                handler.call(this, arguments[1], arguments[2]);\n                break;\n            // slower\n            default:\n                args = Array.prototype.slice.call(arguments, 1);\n                handler.apply(this, args);\n        }\n    } else if (isObject(handler)) {\n        args = Array.prototype.slice.call(arguments, 1);\n        listeners = handler.slice();\n        len = listeners.length;\n        for (i = 0; i < len; i++) {\n            listeners[i].apply(this, args);\n        }\n\n    }\n\n    return true;\n};\n\nEventEmitter.prototype.addListener = function (type, listener) {\n    var m;\n\n    if (!isFunction(listener)) {\n        throw TypeError('listener must be a function');\n    }\n\n\n    if (!this._events) {\n        this._events = {};\n    }\n\n    if (this._events.newListener) {\n        this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n    }\n\n\n    if (!this._events[type]) {\n        this._events[type] = listener;\n    } else if (isObject(this._events[type])) {\n        this._events[type].push(listener);\n    } else {\n        this._events[type] = [this._events[type], listener];\n    }\n\n\n    // Check for listener leak\n    if (isObject(this._events[type]) && !this._events[type].warned) {\n        if (!isUndefined(this._maxListeners)) {\n            m = this._maxListeners;\n        } else {\n            m = EventEmitter.defaultMaxListeners;\n        }\n\n        if (m && m > 0 && this._events[type].length > m) {\n            this._events[type].warned = true;\n            console.error('(node) warning: possible EventEmitter memory '\n                + 'leak detected. %d listeners added. '\n                + 'Use emitter.setMaxListeners() to increase limit.',\n                this._events[type].length);\n            if (typeof console.trace === 'function') {\n                // not supported in IE 10\n                console.trace();\n            }\n        }\n    }\n\n    return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function (type, listener) {\n    if (!isFunction(listener)) {\n        throw TypeError('listener must be a function');\n    }\n\n\n    var fired = false;\n\n    function g() {\n        this.removeListener(type, g);\n\n        if (!fired) {\n            fired = true;\n            listener.apply(this, arguments);\n        }\n    }\n\n    g.listener = listener;\n    this.on(type, g);\n\n    return this;\n};\n\nEventEmitter.prototype.removeListener = function (type, listener) {\n    var list;\n    var position;\n    var length;\n    var i;\n\n    if (!isFunction(listener)) {\n        throw TypeError('listener must be a function');\n    }\n\n    if (!this._events || !this._events[type]) {\n        return this;\n    }\n\n    list = this._events[type];\n    length = list.length;\n    position = -1;\n\n    if (list === listener || (isFunction(list.listener) && list.listener === listener)) {\n        delete this._events[type];\n        if (this._events.removeListener) {\n            this.emit('removeListener', type, listener);\n        }\n    } else if (isObject(list)) {\n        for (i = length; i-- > 0;) {\n            if (list[i] === listener || (list[i].listener && list[i].listener === listener)) {\n                position = i;\n                break;\n            }\n        }\n\n        if (position < 0) {\n            return this;\n        }\n\n        if (list.length === 1) {\n            list.length = 0;\n            delete this._events[type];\n        } else {\n            list.splice(position, 1);\n        }\n\n        if (this._events.removeListener) {\n            this.emit('removeListener', type, listener);\n        }\n\n    }\n\n    return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function (type) {\n    var key;\n    var listeners;\n\n    if (!this._events) {\n        return this;\n    }\n\n    if (!this._events.removeListener) {\n        if (arguments.length === 0) {\n            this._events = {};\n        } else if (this._events[type]) {\n            delete this._events[type];\n        }\n        return this;\n    }\n\n    if (arguments.length === 0) {\n        for (key in this._events) {\n            if (key === 'removeListener') continue;\n            this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = {};\n        return this;\n    }\n\n    listeners = this._events[type];\n\n    if (isFunction(listeners)) {\n        this.removeListener(type, listeners);\n    } else if (listeners) {\n        while (listeners.length) {\n            this.removeListener(type, listeners[listeners.length - 1]);\n        }\n    }\n    delete this._events[type];\n\n    return this;\n};\n\nEventEmitter.prototype.listeners = function (type) {\n    if (!this._events || !this._events[type]) {\n        return [];\n    }\n    if (isFunction(this._events[type])) {\n        return [this._events[type]];\n    }\n    return this._events[type].slice();\n};\n\nEventEmitter.prototype.listenerCount = function (type) {\n    if (this._events) {\n        var evlistener = this._events[type];\n\n        if (isFunction(evlistener)) {\n            return 1;\n        }\n        if (evlistener) {\n            return evlistener.length;\n        }\n    }\n    return 0;\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n    return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n    return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n    return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n    return arg === void 0;\n}\nmodule.exports.EventEmitter = EventEmitter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/event.js\n// module id = 1\n// module chunks = 0","/**\n * Created by zhangyatao on 2017/3/10.\n */\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\nif (!Array.prototype.forEach) {\n\n    Array.prototype.forEach = function (callback/*, thisArg*/) {\n\n        var T, k;\n\n        if (this == null) {\n            throw new TypeError('this is null or not defined');\n        }\n\n        // 1. Let O be the result of calling toObject() passing the\n        // |this| value as the argument.\n        var O = Object(this);\n\n        // 2. Let lenValue be the result of calling the Get() internal\n        // method of O with the argument \"length\".\n        // 3. Let len be toUint32(lenValue).\n        var len = O.length >>> 0;\n\n        // 4. If isCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== 'function') {\n            throw new TypeError(callback + ' is not a function');\n        }\n\n        // 5. If thisArg was supplied, let T be thisArg; else let\n        // T be undefined.\n        if (arguments.length > 1) {\n            T = arguments[1];\n        }\n\n        // 6. Let k be 0\n        k = 0;\n\n        // 7. Repeat, while k < len\n        while (k < len) {\n\n            var kValue;\n\n            // a. Let Pk be ToString(k).\n            //    This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty\n            //    internal method of O with argument Pk.\n            //    This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n\n                // i. Let kValue be the result of calling the Get internal\n                // method of O with argument Pk.\n                kValue = O[k];\n\n                // ii. Call the Call internal method of callback with T as\n                // the this value and argument list containing kValue, k, and O.\n                callback.call(T, kValue, k, O);\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n        // 8. return undefined\n    };\n}\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.19\n// Reference: http://es5.github.io/#x15.4.4.19\nif (!Array.prototype.map) {\n\n    Array.prototype.map = function (callback/*, thisArg*/) {\n\n        var T, A, k;\n\n        if (this == null) {\n            throw new TypeError('this is null or not defined');\n        }\n\n        // 1. Let O be the result of calling ToObject passing the |this|\n        //    value as the argument.\n        var O = Object(this);\n\n        // 2. Let lenValue be the result of calling the Get internal\n        //    method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        var len = O.length >>> 0;\n\n        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== 'function') {\n            throw new TypeError(callback + ' is not a function');\n        }\n\n        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 1) {\n            T = arguments[1];\n        }\n\n        // 6. Let A be a new array created as if by the expression new Array(len)\n        //    where Array is the standard built-in constructor with that name and\n        //    len is the value of len.\n        A = new Array(len);\n\n        // 7. Let k be 0\n        k = 0;\n\n        // 8. Repeat, while k < len\n        while (k < len) {\n\n            var kValue, mappedValue;\n\n            // a. Let Pk be ToString(k).\n            //   This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty internal\n            //    method of O with argument Pk.\n            //   This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n\n                // i. Let kValue be the result of calling the Get internal\n                //    method of O with argument Pk.\n                kValue = O[k];\n\n                // ii. Let mappedValue be the result of calling the Call internal\n                //     method of callback with T as the this value and argument\n                //     list containing kValue, k, and O.\n                mappedValue = callback.call(T, kValue, k, O);\n\n                // iii. Call the DefineOwnProperty internal method of A with arguments\n                // Pk, Property Descriptor\n                // { Value: mappedValue,\n                //   Writable: true,\n                //   Enumerable: true,\n                //   Configurable: true },\n                // and false.\n\n                // In browsers that support Object.defineProperty, use the following:\n                // Object.defineProperty(A, k, {\n                //   value: mappedValue,\n                //   writable: true,\n                //   enumerable: true,\n                //   configurable: true\n                // });\n\n                // For best browser support, use the following:\n                A[k] = mappedValue;\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n\n        // 9. return A\n        return A;\n    };\n}\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\nif (!Array.prototype.find) {\n    Array.prototype.find = function (predicate) {\n        // 1. Let O be ? ToObject(this value).\n        if (this == null) {\n            throw new TypeError('\"this\" is null or not defined');\n        }\n\n        var o = Object(this);\n\n        // 2. Let len be ? ToLength(? Get(O, \"length\")).\n        var len = o.length >>> 0;\n\n        // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n        if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n        }\n\n        // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        var thisArg = arguments[1];\n\n        // 5. Let k be 0.\n        var k = 0;\n\n        // 6. Repeat, while k < len\n        while (k < len) {\n            // a. Let Pk be ! ToString(k).\n            // b. Let kValue be ? Get(O, Pk).\n            // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n            // d. If testResult is true, return kValue.\n            var kValue = o[k];\n            if (predicate.call(thisArg, kValue, k, o)) {\n                return kValue;\n            }\n            // e. Increase k by 1.\n            k++;\n        }\n\n        // 7. Return undefined.\n        return undefined;\n    }\n\n}\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.17\n// Reference: http://es5.github.io/#x15.4.4.17\nif (!Array.prototype.some) {\n    Array.prototype.some = function(fun/*, thisArg*/) {\n        'use strict';\n\n        if (this == null) {\n            throw new TypeError('Array.prototype.some called on null or undefined');\n        }\n\n        if (typeof fun !== 'function') {\n            throw new TypeError();\n        }\n\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(thisArg, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/polyfill/array.js\n// module id = 2\n// module chunks = 0","/**\n * Created by zhangyatao on 2017/3/9.\n */\nif (typeof Object.assign != 'function') {\n    Object.assign = function (target, varArgs) { // .length of function is 2\n        'use strict';\n        if (target == null) { // TypeError if undefined or null\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var to = Object(target);\n\n        for (var index = 1; index < arguments.length; index++) {\n            var nextSource = arguments[index];\n\n            if (nextSource != null) { // Skip over if undefined or null\n                for (var nextKey in nextSource) {\n                    // Avoid bugs when hasOwnProperty is shadowed\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                        to[nextKey] = nextSource[nextKey];\n                    }\n                }\n            }\n        }\n        return to;\n    };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/polyfill/assign.js\n// module id = 3\n// module chunks = 0","/**\n * Created by zhangyatao on 2017/3/10.\n */\nrequire('./array');\nrequire('./assign');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/polyfill/index.js\n// module id = 4\n// module chunks = 0"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC1BA;AACA;AACA;AACA;AACA;;;;;;;;;;;","sourceRoot":""}